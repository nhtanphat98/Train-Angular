<div class="cart-content">
    <div style="height: 10%">
        <div style="width: 50%; display: flex; justify-content: space-between; margin: 10px;">
            <b>Cart Detail Page</b>
            <div class="view-history" (click)="navigateToHistory(1)">View History</div>
        </div>
        
    </div>
    <div style="display: flex; height: 95%; width: 100%">
        <div style="width: 50%">
            <div
                class="cart-review"
                *ngFor="let product of cart"
                style="margin: 10px;" 
            >
                <div style="width: 100px; height: 100px">
                    <img
                        style="width: 100%; height: 100%"
                        src="assets\images\products\{{ product.image }}"
                    />
                </div>
                <div
                    style="
                        width: 80%;
                        display: flex;
                        flex-direction: column;
                        justify-content: space-between;
                        margin-left: 50px;
                    "
                >
                    <div style="flex-grow: 1; display: flex; justify-content: space-between; width: 100%; align-items: center; ">
                        <b>
                            {{ product.name }}
                        </b>
                        <div style="width: 50px; right: 0">
                            {{ product.price * product.quantity }}
                        </div>
                    </div>
                    <div style="flex-grow: 1; display: flex; justify-content: space-between; width: 100%; align-items: center; text-align: center;">
                        <span style="color: red"
                            >Price: {{ product.price }}</span
                        >
                        <p-button class="custom-position-button-delete" label="Delete" [raised]="true" (onClick)="confirm(product.id, $event)" severity="danger" />
                    </div>
                    <p-confirmDialog />
                    <div style="flex-grow: 1">
                        <p-inputNumber
                            [(ngModel)]="product.quantity"
                            [showButtons]="true"
                            buttonLayout="horizontal"
                            inputId="horizontal"
                            spinnerMode="horizontal"
                            [step]="1"
                            decrementButtonClass="decrement-button-custom"
                            incrementButtonClass="increment-button-custom"
                            incrementButtonIcon="pi pi-plus"
                            decrementButtonIcon="pi pi-minus"
                            mode="decimal"
                            [inputStyle]="{
                                'text-align': 'center',
                                width: '100px',
                                height: '30px'
                            }"
                            min="0"
                            (ngModelChange)="
                                onQuantityChange(product.id, $event)
                            "
                        ></p-inputNumber>
                    </div>
                </div>
            </div>
        </div>
        <div
            style="
                width: 50%;
                display: flex;
                flex-direction: column;
                align-items: center;
            "
        >
            <div
                style="
                    height: 10%;
                    display: flex;
                    justify-content: space-between;
                    width: 70%;
                    background-color: #ff2f1e;
                    border-radius: 10px;
                "
            >
                <div
                    style="
                        display: flex;
                        justify-content: center;
                        flex-direction: column;
                        margin-left: 20px;
                    "
                >
                    <span style="color: white">Total</span>
                </div>
                <div
                    style="
                        display: flex;
                        justify-content: center;
                        flex-direction: column;
                        margin-right: 20px;
                    "
                >
                    <span style="color: white">{{ totalPrice }}</span>
                </div>
            </div>

            <div
                class="pay-button"
                style="
                    height: 10%;
                    display: flex;
                    width: 70%;
                    background-color: #ff7320;
                    border-radius: 10px;
                    margin-top: 30px;
                    justify-content: center;
                "
                (click)="createOrder()"
            >
                <div
                    style="
                        display: flex;
                        justify-content: center;
                        flex-direction: column;
                        margin-left: 20px;
                    "
                >
                    <span style="color: white">Pay</span>
                </div>
            </div>

            <div
                class="buy-more-button"
                style="
                    height: 10%;
                    display: flex;
                    width: 70%;
                    background-color: white;

                    border-radius: 10px;
                    border: 3px solid #ff7320;
                    margin-top: 30px;
                    justify-content: center;
                "
                (click)="navigateToCart()"
            >
                <div
                    style="
                        display: flex;
                        justify-content: center;
                        flex-direction: column;
                        margin-left: 20px;
                    "
                >
                    <span>Buy More</span>
                </div>
            </div>
        </div>
    </div>
</div>

<p-toast key="br" position="bottom-right"/>